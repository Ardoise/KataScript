{
  "meta": {
    "profile": "https://github.com/Ardoise/KataScript/blob/master/README.md"
  },
  "posts": [{
    "id" : 56,
    "title" : "Foo",
    "links": {
      "author": "9",
      "comments": [ "5", "12", "17", "20" ]
    }
  }, {
    "id" : 57,
    "title" : "Bar"
  }],
  "process": {
    "split": {
      "Daemon": {
        "Pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/init.d/ulogstash",
        "On": "chkconfig ulogstash on",
        "Off": "chkconfig ulogstash off"
      },
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/redis2elasticsearch",
        "conf": "/etc/logstash/redis2elasticsearch.conf",
        "input": "centralized",
        "output": "centralized"
      },
      "start": "/etc/init.d/ulogstash start",
      "status": "/etc/init.d/ulogstash status",
      "stop": "/etc/init.d/ulogstash stop"
    },
    "event": {
      "Daemon": {
        "On": "chkconfig redis_6379 on",
        "Off": "chkconfig redis_6379 off"
      },
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/redis/6379.conf",
        "conf": "/etc/redis/6379.conf"
      },     
      "start": "service redis_6379 start",
      "status": "service redis_6379 status",
      "stop": "service redis_6379 stop"
    },
    "search": {
      "Daemon": {
        "On": "chkconfig elasticsearch on",
        "Off": "chkconfig elasticsearch off"
      },
      "init": {
		"pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/elasticsearch/elasticsearch.yml",
        "conf": "/etc/elasticsearch/elasticsearch.yml"
      },
      "start": "service elasticsearch start",
      "status": "service elasticsearch status",
      "stop": "service elasticsearch stop"
    }, 
    "shipper": {
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/shipper2redis",
        "conf": "/etc/logstash/shipper2redis.conf",
        "input": "distributed",
        "output": "centralized"
      },
      "Daemon": {
        "Pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/init.d/ulogstash",
        "On": "chkconfig ulogstash on",
        "Off": "chkconfig ulogstash off"
      },
      "start": "/etc/init.d/ulogstash start",
      "status": "/etc/init.d/ulogstash status",
      "stop": "/etc/init.d/ulogstash stop"
    },
    "shipper2": {
      "init": {
        "conf": "/etc/flume/flume.conf",
        "input": "distributed",
        "output": "centralized"
      },
      "Daemon": {
        "On": "chkconfig flume on",
        "Off": "chkconfig flume off"
      },
      "start": "service flume start",
      "status": "service flume status",
      "stop": "service flume stop"
    }
  },
  "connector": {
    "logstash": {
      "id": "shipper",
      "output": "redis",
      "Platform": "distributed"
    },
    "redis": {
      "id": "event",
      "Platform": "centralized"
    },
    "logstash": {
      "id": "split",
      "input": "redis",
      "output": "elasticsearch",
      "Platform": "centralized"
    },
    "elasticsearch": {
      "id": "index",
      "Platform": "centralized"
    },
    "kibana3": {
      "id": "dashboard",
      "input": "elasticsearch",
      "Platform": "centralized"
    }
  },
  "Profil": {
    "Dir": {
      "Etc": "/etc/",
      "Log": "/var/log/",
      "Lib": "/var/lib/",
      "Bin": "/opt/",
      "Run": "/var/run/",
      "Cache": "/var/cache/"
    },
    "centrallog": {
      "id": "centrallog",
      "Platform": "centralized",
      "Software": "centrallog"
    },
    "split": {
      "id": "split",
      "Platform": "centralized",
      "Software": "logstash"
    },
    "event": {
      "id": "event",
      "Platform": "centralized",
      "Software": "redis"
    },
    "search": {
      "id": "search",
      "Platform": "centralized",
      "Software": "elasticsearch"
    },
    "shipper": {
      "id": "shipper",
      "Platform": "distributed",
      "Software": "logstash"
    },
    "shipper2": {
      "id": "shipper2",
      "Platform": "distributed",
      "Software": "flume"
    },
    "stockage": {
      "id": "stockage",
      "Platform": "centralized",
      "Software": "mongodb"
    },
    "dashboard": {
      "id": "dashboard",
      "Platform": "centralized",
      "Software": "kibana3"
    }
  },
  "Software": {
    "centrallog": {
      "title": "Centrallog Component",
      "name": "centrallog",
      "download": "",
      "version": "0.1.1a4"
    },
    "logstash": {
      "title": "Logstash Server",
      "name": "logstash",
      "download": "https://download.elasticsearch.org/logstash/logstash/logstash-1.2.2-flatjar.jar",
      "version": "1.2.2"
	},
    "redis": {
      "title": "Redis Server",
      "download": "http://download.redis.io/releases/redis-2.6.16.tar.gz",
      "name": "redis",
      "version": "2.6.16"
    },
    "elasticsearch": {
      "title": "Elasticsearch Server",
      "download": "https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.90.5.deb",
      "name": "elasticsearch",
      "version": "0.90.5"
    },
    "mongodb": {
      "title": "Mongodb Server",
      "download": "http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.6.tgz",
      "name": "mongodb",
      "version": "2.4.6"
    },
    "kibana3": {
      "download": "https://github.com/elasticsearch/kibana/archive/master.tar.gz",
      "title": "Kibana Server",
      "name": "kibana3",
      "version": "3.0.0m3pre"
    },
    "flume": {
      "title": "Flume Server",
      "download": "http://mirrors.ibiblio.org/apache/flume/1.4.0/apache-flume-1.4.0-bin.tar.gz",
      "name": "flume",
      "version": "1.4.0",
      "gpg": "gpg --import KEYS; gpg --verify apache-flume-1.4.0-bin.tar.gz.asc"
    },
    "graylog2": {
      "download": "https://github.com/Graylog2/graylog2-server/releases/download/0.13.0-rc.1/",
      "title": "Graylog2 Server",
      "name": "graylog2",
      "version": "0.13.0"
    },
    "vagrant": {
      "download": "http://files.vagrantup.com/packages/b12c7e8814171c1295ef82416ffe51e8a168a244/vagrant_1.3.1_x86_64.deb",
      "title": "Vagrant PIC",
      "name": "vagrant",
      "version": "1.3.1",
      "depends": {
        "VirtualBox": [
          {"boxname": "precise32", "boxurl": "http://files.vagrantup.com/precise32.box"},
          {"boxname": "precise64", "boxurl": "http://files.vagrantup.com/precise64.box"}
        ],
        "VMware": [
          {"boxname": "precise64_vmware", "url": "http://files.vagrantup.com/precise64_vmware.box"}
        ]
      }
    }
  },
  "Platform": {
    "centralized": [
      {
        "id": "1",
        "title": "kataGit",
        "ip": "10.0.2.10",
        "vmname": "host10",
        "boxname": "precise32"
      },
      {
        "id": "2",
        "title": "kataUI",
        "ip": "10.0.2.10",
        "vmname": "host10",
        "boxname": "precise32"
      }
    ],
    "distributed": [
      {
        "id": "1",
        "title": "shipper",
        "ip": "10.0.2.11",
        "vmname": "host11",
        "boxname": "precise32"
      },
      {
        "id": "2",
        "title": "broker",
        "ip": "10.0.2.12",
        "vmname": "host12",
        "boxname": "precise32"
      },
      {
        "id": "3",
        "title": "split",
        "ip": "10.0.2.13",
        "vmname": "host13",
        "boxname": "precise32"
      },
      {
        "id": "4",
        "title": "index",
        "ip": "10.0.2.14",
        "vmname": "host14",
        "boxname": "precise64"
      },
      {
        "id": "5",
        "title": "search",
        "ip": "10.0.2.14",
        "vmname": "host14",
        "boxname": "precise64"
      },
      {
        "id": "6",
        "title": "dashboard",
        "ip": "10.0.2.15",
        "vmname": "host15",
        "boxname": "precise64"
      },
      {
        "id": "7",
        "title": "storage",
        "ip": "10.0.2.16",
        "vmname": "host16",
        "boxname": "precise64"
      }
    ]
  }
}
