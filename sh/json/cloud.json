{
  "meta": {
    "profile": "https://github.com/Ardoise/KataScript/blob/master/README.md"
  },
  "process": {
    "split": {
      "Daemon": {
        "Pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/init.d/ulogstash",
        "On": "chkconfig ulogstash on",
        "Off": "chkconfig ulogstash off"
      },
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/redis2elasticsearch",
        "conf": "/etc/logstash/redis2elasticsearch.conf",
        "input": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/input/redis.json",
        "output": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/output/elasticsearch.json"
      },
      "start": "/etc/init.d/ulogstash start",
      "status": "/etc/init.d/ulogstash status",
      "stop": "/etc/init.d/ulogstash stop"
    },
    "event": {
      "Daemon": {
        "On": "chkconfig redis_6379 on",
        "Off": "chkconfig redis_6379 off"
      },
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/redis/6379.conf",
        "conf": "/etc/redis/6379.conf"
      },     
      "start": "service redis_6379 start",
      "status": "service redis_6379 status",
      "stop": "service redis_6379 stop"
    },
    "search": {
      "Daemon": {
        "On": "chkconfig elasticsearch on",
        "Off": "chkconfig elasticsearch off"
      },
      "init": {
		    "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/elasticsearch/elasticsearch.yml",
        "conf": "/etc/elasticsearch/elasticsearch.yml"
      },
      "start": "service elasticsearch start",
      "status": "service elasticsearch status",
      "stop": "service elasticsearch stop"
    },
    "mapui": {
      "Daemon": {
        "On": "chkconfig neo4j on",
        "Off": "chkconfig neo4j off"
      },
      "init": {
    		"pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/neo4j/neo4j.conf",
        "conf": "/etc/neo4j/neo4j.conf"
      },
      "start": "service neo4j start",
      "status": "service neo4j status",
      "stop": "service neo4j stop"
    }, 
    "shipper": {
      "init": {
        "pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/shipper2redis",
        "conf": "/etc/logstash/shipper2redis.conf",
        "input": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/input/file.json",
        "output": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/logstash/output/redis.json"
      },
      "Daemon": {
        "Pattern": "https://raw.github.com/Ardoise/KataScript/master/sh/etc/init.d/ulogstash",
        "On": "chkconfig ulogstash on",
        "Off": "chkconfig ulogstash off"
      },
      "start": "/etc/init.d/ulogstash start",
      "status": "/etc/init.d/ulogstash status",
      "stop": "/etc/init.d/ulogstash stop"
    },
    "shipper2": {
      "init": {
        "conf": "/etc/flume/flume.conf",
        "input": "distributed",
        "output": "centralized"
      },
      "Daemon": {
        "On": "chkconfig flume on",
        "Off": "chkconfig flume off"
      },
      "start": "service flume start",
      "status": "service flume status",
      "stop": "service flume stop"
    },
    "ihm": {
      "init": {
        "conf": "/etc/nginx/http.conf"
      },
      "Daemon": {
        "On": "service nginx on",
        "Off": "service nginx off"
      },
      "start": "service nginx start",
      "status": "service nginx status",
      "stop": "service nginx stop"
    }
  },
  "Profil": {
    "Dir": {
      "Etc": "/etc/",
      "Log": "/var/log/",
      "Lib": "/var/lib/",
      "Bin": "/opt/",
      "Run": "/var/run/",
      "Cache": "/var/cache/"
    },
    "centrallog": {
      "id": "centrallog",
      "platform": "centralized",
      "software": "centrallog"
    },
    "split": {
      "id": "split",
      "platform": "centralized",
      "software": "logstash"
    },
    "event": {
      "id": "event",
      "platform": "centralized",
      "software": "redis"
    },
    "search": {
      "id": "search",
      "platform": "centralized",
      "software": "elasticsearch"
    },
    "shipper": {
      "id": "shipper",
      "platform": "distributed",
      "software": "logstash"
    },
    "shipper2": {
      "id": "shipper2",
      "platform": "distributed",
      "software": "flume"
    },
    "stockage": {
      "id": "stockage",
      "platform": "centralized",
      "software": "mongodb"
    },
    "graphui": {
      "id": "graphui",
      "platform": "centralized",
      "software": "neo4j"
    },
    "dashboard": {
      "id": "dashboard",
      "platform": "centralized",
      "software": "kibana3"
    },
    "ihm": {
      "id": "ihm",
      "platform": "centralized",
      "software": "nginx"
    }
  },
  "software": {
    "centrallog": {
      "title": "Centrallog Component",
      "name": "centrallog",
      "download": "",
      "version": "1.1.0"
    },
    "logstash": {
      "title": "Logstash Server",
      "name": "logstash",
      "download": "https://download.elasticsearch.org/logstash/logstash/packages/debian/logstash_1.4.0-1-c82dc09_all.deb",
      "version": "1.4.0",
      "preinstall": "sudo apt-get install default-jre-headless",
      "postinstall": "cd /opt/logstash;bin/plugin install contrib"
    },
    "redis": {
      "title": "Redis Server",
      "download": "http://download.redis.io/releases/redis-2.8.8.tar.gz",
      "name": "redis",
      "version": "2.8.8",
      "postinstall": "cd src; make; make install; cd ../utils; ./install_server.sh"
    },
    "nginx": {
      "title": "NGinx Server",
      "download": "http://nginx.org/download/nginx-1.5.13.tar.gz",
      "name": "nginx",
      "version": "1.5.13"
    },
    "elasticsearch": {
      "title": "Elasticsearch Server",
      "download": "https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.1.1.deb",
      "name": "elasticsearch",
      "version": "1.1.1",
      "postinstall": "/usr/share/$NAME/bin/plugin -install mobz/elasticsearch-head"
    },
    "mongodb": {
      "title": "Mongodb Server",
      "download": "https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.6.0.tgz",
      "name": "mongodb",
      "version": "2.6.0"
    },
    "kibana3": {
      "download": "https://download.elasticsearch.org/kibana/kibana/kibana-3.0.0milestone5.tar.gz",
      "title": "Kibana Server",
      "name": "kibana3",
      "version": "3.0.0m5"
    },
    "neo4j": {
      "download": "http://dist.neo4j.org/neo4j-community-2.0.0-unix.tar.gz",
      "title": "Neo4j Server",
      "name": "neo4j",
      "version": "2.0.0",
      "postinstall": "ulimit -a 40000;echo 'http://www.oracle.com/technetwork/java/javase/downloads/index.html'",
      "homepage": "http://localhost:7474/"
    },
    "flume": {
      "title": "Flume Server",
      "download": "http://mirrors.ibiblio.org/apache/flume/1.4.0/apache-flume-1.4.0-bin.tar.gz",
      "name": "flume",
      "version": "1.4.0",
      "gpg": "gpg --import KEYS; gpg --verify apache-flume-1.4.0-bin.tar.gz.asc"
    },
    "graylog2": {
      "download": "https://github.com/Graylog2/graylog2-server/releases/download/0.13.0-rc.1/",
      "title": "Graylog2 Server",
      "name": "graylog2",
      "version": "0.13.0"
    },
    "vagrant": {
      "download": "https://dl.bintray.com/mitchellh/vagrant/vagrant_1.5.3_x86_64.deb",
      "title": "Vagrant PIC",
      "name": "vagrant",
      "version": "1.5.3",
      "depends": {
        "VirtualBox": [
          {"boxname": "precise32", "boxurl": "http://files.vagrantup.com/precise32.box"},
          {"boxname": "precise64", "boxurl": "http://files.vagrantup.com/precise64.box"},
          {"boxname": "saucy64", "boxurl": "http://cloud-images.ubuntu.com/vagrant/saucy/current/saucy-server-cloudimg-amd64-vagrant-disk1.box"},
          {"boxname": "trusty64", "boxurl": "https://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box"}
        ],
        "VMware": [
          {"boxname": "precise64_vmware", "url": "http://files.vagrantup.com/precise64_vmware.box"},
          {"boxname": "saucy64_vmware", "url": "http://shopify-vagrant.s3.amazonaws.com/ubuntu-13.10_vmware.box"}
        ]
      }
    }
  }
}
